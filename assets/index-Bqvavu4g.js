(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(o){if(o.ep)return;o.ep=!0;const e=i(o);fetch(o.href,e)}})();document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("mobile-menu-button"),n=document.getElementById("mobile-menu-close"),i=document.getElementById("mobile-overlay"),r=document.getElementById("mobile-menu-panel"),o=document.getElementById("mobile-publikasi-toggle"),e=document.getElementById("mobile-publikasi-menu"),s=document.getElementById("mobile-publikasi-icon");t&&t.addEventListener("click",function(){i.classList.remove("hidden"),setTimeout(()=>{r.classList.add("mobile-menu-open")},10)});function c(){r.classList.remove("mobile-menu-open"),setTimeout(()=>{i.classList.add("hidden")},300)}n&&n.addEventListener("click",c),i&&i.addEventListener("click",function(l){l.target===i&&c()}),o&&o.addEventListener("click",function(){e.classList.contains("hidden")?(e.classList.remove("hidden"),s.style.transform="rotate(180deg)"):(e.classList.add("hidden"),s.style.transform="rotate(0deg)")}),document.querySelectorAll("#mobile-menu a").forEach(l=>{l.addEventListener("click",c)})});document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(n){n.preventDefault();const i=document.querySelector(this.getAttribute("href"));i&&i.scrollIntoView({behavior:"smooth",block:"start"})})});window.addEventListener("scroll",function(){const t=document.querySelector("header");window.scrollY>100?t.classList.add("shadow-lg"):t.classList.remove("shadow-lg")});const a={threshold:.1,rootMargin:"0px 0px -50px 0px"},d=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&n.target.classList.add("animate-fade-in")})},a);document.querySelectorAll(".card, section").forEach(t=>{d.observe(t)});function u(){const t=document.createElement("button");t.innerHTML='<i class="fas fa-arrow-up"></i>',t.className="fixed z-50 w-12 h-12 text-white transition-all duration-300 rounded-full shadow-lg opacity-0 pointer-events-none bottom-6 right-6 bg-primary-600 hover:bg-primary-700",t.setAttribute("aria-label","Back to top"),document.body.appendChild(t),window.addEventListener("scroll",()=>{window.pageYOffset>300?(t.style.opacity="1",t.style.pointerEvents="auto"):(t.style.opacity="0",t.style.pointerEvents="none")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function m(){const t=document.querySelectorAll('a[href^="#"]'),n=document.querySelectorAll("h2[id], h3[id]");if(n.length===0)return;const i=new IntersectionObserver(r=>{r.forEach(o=>{if(o.isIntersecting){t.forEach(s=>{s.classList.remove("text-primary-600","font-semibold"),s.classList.add("text-gray-600")});const e=document.querySelector(`a[href="#${o.target.id}"]`);e&&(e.classList.remove("text-gray-600"),e.classList.add("text-primary-600","font-semibold"))}})},{rootMargin:"-20% 0px -35% 0px"});n.forEach(r=>{i.observe(r)})}document.addEventListener("keydown",function(t){if(t.key==="Escape"){const n=document.getElementById("mobile-overlay"),i=document.getElementById("mobile-menu-panel");n&&!n.classList.contains("hidden")&&(i.classList.remove("mobile-menu-open"),setTimeout(()=>{n.classList.add("hidden")},300))}});window.location.pathname.includes("-detail.html")&&document.addEventListener("DOMContentLoaded",()=>{u(),m()});function f(){const t=document.querySelectorAll("img[data-src]"),n=new IntersectionObserver((i,r)=>{i.forEach(o=>{if(o.isIntersecting){const e=o.target;e.src=e.dataset.src,e.classList.remove("opacity-0"),e.classList.add("opacity-100"),r.unobserve(e)}})});t.forEach(i=>n.observe(i))}document.addEventListener("DOMContentLoaded",f);function h(){const t=document.getElementById("search-input"),n=document.getElementById("search-results");if(!t||!n)return;let i;t.addEventListener("input",function(e){clearTimeout(i);const s=e.target.value.trim();if(s.length<2){n.classList.add("hidden");return}i=setTimeout(()=>{r(s)},300)});function r(e){console.log("Searching for:",e),o([{title:"Policy Brief: Economic Recovery",url:"#"},{title:"Strategic Study: Digital Economy",url:"#"},{title:"Economic Indicators Q4 2024",url:"#"}])}function o(e){n.innerHTML="",e.length===0?n.innerHTML='<p class="p-4 text-gray-500">No results found</p>':e.forEach(s=>{const c=document.createElement("a");c.href=s.url,c.className="block p-4 border-b border-gray-100 hover:bg-gray-50",c.innerHTML=`<h4 class="font-medium text-gray-900">${s.title}</h4>`,n.appendChild(c)}),n.classList.remove("hidden")}document.addEventListener("click",function(e){!t.contains(e.target)&&!n.contains(e.target)&&n.classList.add("hidden")})}document.addEventListener("DOMContentLoaded",h);
